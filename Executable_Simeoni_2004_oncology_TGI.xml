<?xml version="1.0" encoding="UTF-8"?>
<PharmML 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns="http://www.pharmml.org/pharmml/0.8/PharmML"
	xsi:schemaLocation="http://www.pharmml.org/pharmml/0.8/PharmML http://www.pharmml.org/pharmml/0.8/PharmML"
	xmlns:math="http://www.pharmml.org/pharmml/0.8/Maths"
	xmlns:ct="http://www.pharmml.org/pharmml/0.8/CommonTypes"
	xmlns:ds="http://www.pharmml.org/pharmml/0.8/Dataset"
	xmlns:mdef="http://www.pharmml.org/pharmml/0.8/ModelDefinition"
	xmlns:mstep="http://www.pharmml.org/pharmml/0.8/ModellingSteps"
	xmlns:design="http://www.pharmml.org/pharmml/0.8/TrialDesign"
	writtenVersion="0.8.1">
	<ct:Name>generated by MDL2PharmML v.6.0 --> manually upgraded to 0.8.1 by MJS
		NOTE: TrialDesign is incomplete because 'simeoni2004_data.csv' contains
		data for two subjects only</ct:Name>
	<IndependentVariable symbId="T"/>
	<ct:FunctionDefinition xmlns="http://www.pharmml.org/pharmml/0.8/CommonTypes" 
		symbolType="real"
		symbId="proportionalError">
	    <ct:Description>Proportional or constant CV (CVV)</ct:Description>
	    <ct:FunctionArgument symbolType="real" symbId="proportional"/>
	    <ct:FunctionArgument symbolType="real" symbId="f"/>
	    <ct:Definition>
	        <Assign>
	            <Binop op="times" xmlns="http://www.pharmml.org/pharmml/0.8/Maths">
	                <ct:SymbRef symbIdRef="proportional"/>
	                <ct:SymbRef symbIdRef="f"/>
	            </Binop>
	        </Assign>
	    </ct:Definition>
	</ct:FunctionDefinition>
	<ModelDefinition xmlns="http://www.pharmml.org/pharmml/0.8/ModelDefinition">
		<VariabilityModel blkId="vm_err" type="residualError">
			<Level symbId="DV"/>
		</VariabilityModel>
		<ParameterModel blkId="pm">
			<PopulationParameter symbId = "LAMBDA0_POP"/>
			<PopulationParameter symbId = "LAMBDA1_POP"/>
			<PopulationParameter symbId = "K1_POP"/>
			<PopulationParameter symbId = "K2_POP"/>
			<PopulationParameter symbId = "W0_POP"/>
			<PopulationParameter symbId = "CV"/>
			<PopulationParameter symbId = "SIGMA_RES_W"/>
			<IndividualParameter symbId="LAMBDA0">
				<ct:Assign>
					<ct:SymbRef blkIdRef="pm" symbIdRef="LAMBDA0_POP"/>
				</ct:Assign>
			</IndividualParameter>
			<IndividualParameter symbId="LAMBDA1">
				<ct:Assign>
					<ct:SymbRef blkIdRef="pm" symbIdRef="LAMBDA1_POP"/>
				</ct:Assign>
			</IndividualParameter>
			<IndividualParameter symbId="K1">
				<ct:Assign>
					<ct:SymbRef blkIdRef="pm" symbIdRef="K1_POP"/>
				</ct:Assign>
			</IndividualParameter>
			<IndividualParameter symbId="K2">
				<ct:Assign>
					<ct:SymbRef blkIdRef="pm" symbIdRef="K2_POP"/>
				</ct:Assign>
			</IndividualParameter>
			<IndividualParameter symbId="W0">
				<ct:Assign>
					<ct:SymbRef blkIdRef="pm" symbIdRef="W0_POP"/>
				</ct:Assign>
			</IndividualParameter>
			<RandomVariable symbId="eps_RES_W">
				<ct:VariabilityReference>
					<ct:SymbRef blkIdRef="vm_err" symbIdRef="DV"/>
				</ct:VariabilityReference>
				<Distribution>
					<UncertML>
						<NormalDistribution xmlns="http://www.uncertml.org/3.0" definition="http://www.uncertml.org/distributions/normal">
							<mean>
								<rVal>0</rVal>
							</mean>
							<variance>
								<var varId="SIGMA_RES_W"/>
							</variance>
						</NormalDistribution>
					</UncertML>
				</Distribution>
			</RandomVariable>
		</ParameterModel>
		<StructuralModel blkId="sm">
			<ct:Variable symbId="K10" symbolType="real">
				<ct:Assign>
					<math:Binop op="times">
						<ct:Real>0.868</ct:Real>
						<ct:Int>24</ct:Int>
					</math:Binop>
				</ct:Assign>
			</ct:Variable>
			<ct:Variable symbId="K12" symbolType="real">
				<ct:Assign>
					<math:Binop op="times">
						<ct:Real>0.006</ct:Real>
						<ct:Int>24</ct:Int>
					</math:Binop>
				</ct:Assign>
			</ct:Variable>
			<ct:Variable symbId="K21" symbolType="real">
				<ct:Assign>
					<math:Binop op="times">
						<ct:Real>0.0838</ct:Real>
						<ct:Int>24</ct:Int>
					</math:Binop>
				</ct:Assign>
			</ct:Variable>
			<ct:Variable symbId="V1" symbolType="real">
				<ct:Assign>
					<ct:Real>0.81</ct:Real>
				</ct:Assign>
			</ct:Variable>
			<ct:Variable symbId="PSI" symbolType="real">
				<ct:Assign>
					<ct:Int>20</ct:Int>
				</ct:Assign>
			</ct:Variable>
			<ct:Variable symbId="C" symbolType="real">
				<ct:Assign>
					<math:Binop op="divide">
						<ct:SymbRef blkIdRef="sm" symbIdRef="Q1"/>
						<ct:SymbRef blkIdRef="sm" symbIdRef="V1"/>
					</math:Binop>
				</ct:Assign>
			</ct:Variable>
			<ct:Variable symbId="WTOT" symbolType="real">
				<ct:Assign>
					<math:Binop op="plus">
						<math:Binop op="plus">
							<math:Binop op="plus">
								<ct:SymbRef blkIdRef="sm" symbIdRef="X1"/>
								<ct:SymbRef blkIdRef="sm" symbIdRef="X2"/>
							</math:Binop>
							<ct:SymbRef blkIdRef="sm" symbIdRef="X3"/>
						</math:Binop>
						<ct:SymbRef blkIdRef="sm" symbIdRef="X4"/>
					</math:Binop>
				</ct:Assign>
			</ct:Variable>
			<ct:DerivativeVariable symbId="Q1" symbolType="real">
				<ct:Assign>
					<math:Binop op="minus">
						<math:Binop op="times">
							<ct:SymbRef blkIdRef="sm" symbIdRef="K21"/>
							<ct:SymbRef blkIdRef="sm" symbIdRef="Q2"/>
						</math:Binop>
						<math:Binop op="times">
							<math:Binop op="plus">
								<ct:SymbRef blkIdRef="sm" symbIdRef="K10"/>
								<ct:SymbRef blkIdRef="sm" symbIdRef="K12"/>
							</math:Binop>
							<ct:SymbRef blkIdRef="sm" symbIdRef="Q1"/>
						</math:Binop>
					</math:Binop>
				</ct:Assign>
				<ct:IndependentVariable>
					<ct:SymbRef symbIdRef="T"/>
				</ct:IndependentVariable>
				<ct:InitialCondition>
					<ct:InitialValue>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>
					</ct:InitialValue>
					<ct:InitialTime>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>	
					</ct:InitialTime>
				</ct:InitialCondition>
			</ct:DerivativeVariable>
			<ct:DerivativeVariable symbId="Q2" symbolType="real">
				<ct:Assign>
					<math:Binop op="minus">
						<math:Binop op="times">
							<ct:SymbRef blkIdRef="sm" symbIdRef="K12"/>
							<ct:SymbRef blkIdRef="sm" symbIdRef="Q1"/>
						</math:Binop>
						<math:Binop op="times">
							<ct:SymbRef blkIdRef="sm" symbIdRef="K21"/>
							<ct:SymbRef blkIdRef="sm" symbIdRef="Q2"/>
						</math:Binop>
					</math:Binop>
				</ct:Assign>
				<ct:IndependentVariable>
					<ct:SymbRef symbIdRef="T"/>
				</ct:IndependentVariable>
				<ct:InitialCondition>
					<ct:InitialValue>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>
					</ct:InitialValue>
					<ct:InitialTime>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>	
					</ct:InitialTime>
				</ct:InitialCondition>
			</ct:DerivativeVariable>
			<ct:DerivativeVariable symbId="X1" symbolType="real">
				<ct:Assign>
					<math:Binop op="minus">
						<math:Binop op="divide">
							<math:Binop op="times">
								<ct:SymbRef blkIdRef="pm" symbIdRef="LAMBDA0"/>
								<ct:SymbRef blkIdRef="sm" symbIdRef="X1"/>
							</math:Binop>
							<math:Binop op="power">
								<math:Binop op="plus">
									<ct:Int>1</ct:Int>
									<math:Binop op="power">
										<math:Binop op="divide">
											<math:Binop op="times">
												<ct:SymbRef blkIdRef="sm" symbIdRef="WTOT"/>
												<ct:SymbRef blkIdRef="pm" symbIdRef="LAMBDA0"/>
											</math:Binop>
											<ct:SymbRef blkIdRef="pm" symbIdRef="LAMBDA1"/>
										</math:Binop>
										<ct:SymbRef blkIdRef="sm" symbIdRef="PSI"/>
									</math:Binop>
								</math:Binop>
								<math:Binop op="divide">
									<ct:Int>1</ct:Int>
									<ct:SymbRef blkIdRef="sm" symbIdRef="PSI"/>
								</math:Binop>
							</math:Binop>
						</math:Binop>
						<math:Binop op="times">
							<math:Binop op="times">
								<ct:SymbRef blkIdRef="pm" symbIdRef="K2"/>
								<ct:SymbRef blkIdRef="sm" symbIdRef="C"/>
							</math:Binop>
							<ct:SymbRef blkIdRef="sm" symbIdRef="X1"/>
						</math:Binop>
					</math:Binop>
				</ct:Assign>
				<ct:IndependentVariable>
					<ct:SymbRef symbIdRef="T"/>
				</ct:IndependentVariable>
				<ct:InitialCondition>
					<ct:InitialValue>
						<ct:Assign>
							<ct:SymbRef blkIdRef="pm" symbIdRef="W0"/>
						</ct:Assign>
					</ct:InitialValue>
					<ct:InitialTime>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>	
					</ct:InitialTime>
				</ct:InitialCondition>
			</ct:DerivativeVariable>
			<ct:DerivativeVariable symbId="X2" symbolType="real">
				<ct:Assign>
					<math:Binop op="minus">
						<math:Binop op="times">
							<math:Binop op="times">
								<ct:SymbRef blkIdRef="pm" symbIdRef="K2"/>
								<ct:SymbRef blkIdRef="sm" symbIdRef="C"/>
							</math:Binop>
							<ct:SymbRef blkIdRef="sm" symbIdRef="X1"/>
						</math:Binop>
						<math:Binop op="times">
							<ct:SymbRef blkIdRef="pm" symbIdRef="K1"/>
							<ct:SymbRef blkIdRef="sm" symbIdRef="X2"/>
						</math:Binop>
					</math:Binop>
				</ct:Assign>
				<ct:IndependentVariable>
					<ct:SymbRef symbIdRef="T"/>
				</ct:IndependentVariable>
				<ct:InitialCondition>
					<ct:InitialValue>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>
					</ct:InitialValue>
					<ct:InitialTime>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>	
					</ct:InitialTime>
				</ct:InitialCondition>
			</ct:DerivativeVariable>
			<ct:DerivativeVariable symbId="X3" symbolType="real">
				<ct:Assign>
					<math:Binop op="minus">
						<math:Binop op="times">
							<ct:SymbRef blkIdRef="pm" symbIdRef="K1"/>
							<ct:SymbRef blkIdRef="sm" symbIdRef="X2"/>
						</math:Binop>
						<math:Binop op="times">
							<ct:SymbRef blkIdRef="pm" symbIdRef="K1"/>
							<ct:SymbRef blkIdRef="sm" symbIdRef="X3"/>
						</math:Binop>
					</math:Binop>
				</ct:Assign>
				<ct:IndependentVariable>
					<ct:SymbRef symbIdRef="T"/>
				</ct:IndependentVariable>
				<ct:InitialCondition>
					<ct:InitialValue>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>
					</ct:InitialValue>
					<ct:InitialTime>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>	
					</ct:InitialTime>
				</ct:InitialCondition>
			</ct:DerivativeVariable>
			<ct:DerivativeVariable symbId="X4" symbolType="real">
				<ct:Assign>
					<math:Binop op="minus">
						<math:Binop op="times">
							<ct:SymbRef blkIdRef="pm" symbIdRef="K1"/>
							<ct:SymbRef blkIdRef="sm" symbIdRef="X3"/>
						</math:Binop>
						<math:Binop op="times">
							<ct:SymbRef blkIdRef="pm" symbIdRef="K1"/>
							<ct:SymbRef blkIdRef="sm" symbIdRef="X4"/>
						</math:Binop>
					</math:Binop>
				</ct:Assign>
				<ct:IndependentVariable>
					<ct:SymbRef symbIdRef="T"/>
				</ct:IndependentVariable>
				<ct:InitialCondition>
					<ct:InitialValue>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>
					</ct:InitialValue>
					<ct:InitialTime>
						<ct:Assign>
							<ct:Int>0</ct:Int>
						</ct:Assign>	
					</ct:InitialTime>
				</ct:InitialCondition>
			</ct:DerivativeVariable>
		</StructuralModel>
		<ObservationModel blkId="om1">
			<ContinuousData>
				<Standard symbId="Y">
					<Output>
						<ct:SymbRef blkIdRef="sm" symbIdRef="WTOT"/>
					</Output>
					<ErrorModel>
						<ct:Assign>
							<math:FunctionCall>
								<ct:SymbRef symbIdRef="proportionalError"/>
								<math:FunctionArgument symbId="proportional">
									<ct:SymbRef blkIdRef="pm" symbIdRef="CV"/>
								</math:FunctionArgument>
								<math:FunctionArgument symbId="f">
									<ct:SymbRef blkIdRef="sm" symbIdRef="WTOT"/>
								</math:FunctionArgument>
							</math:FunctionCall>
						</ct:Assign>
					</ErrorModel>
					<ResidualError>
						<ct:SymbRef blkIdRef="pm" symbIdRef="eps_RES_W"/>
					</ResidualError>
				</Standard>
			</ContinuousData>
		</ObservationModel>
	</ModelDefinition>

	<TrialDesign xmlns="http://www.pharmml.org/pharmml/0.8/TrialDesign">
		
    	<Interventions>
			<Administration oid="bolusIV">
				<Bolus>
					<DoseAmount>
						<ct:SymbRef blkIdRef="sm" symbIdRef="Q1"/>
					</DoseAmount>
				</Bolus>
			</Administration>
			<IndividualAdministration>
				<InterventionRef oidRef="bolusIV"/>
				<ColumnMapping>
					<ColumnRef xmlns="http://www.pharmml.org/pharmml/0.8/Dataset" columnIdRef="TIME"/>
					<ct:SymbRef symbIdRef="T"/>
				</ColumnMapping>
				<DataSet xmlns="http://www.pharmml.org/pharmml/0.8/Dataset">
					<Definition>
						<Column columnId="TIME" columnType="idv" valueType="real" columnNum="1"/>
						<Column columnId="DOSE" columnType="dose" valueType="real" columnNum="2"/>
					</Definition>
					<Table>
						<Row><ct:Real>8</ct:Real><ct:Real>30</ct:Real></Row>
						<Row><ct:Real>12</ct:Real><ct:Real>30</ct:Real></Row>
						<Row><ct:Real>16</ct:Real><ct:Real>30</ct:Real></Row>
					</Table>
				</DataSet>
			</IndividualAdministration>
		</Interventions>

		<Observations>
			<IndividualObservations oid="OBSoid_arm1">
				<ColumnMapping>
					<ColumnRef xmlns="http://www.pharmml.org/pharmml/0.8/Dataset" columnIdRef="TIME"/> 
					<ct:SymbRef symbIdRef="T"/>
				</ColumnMapping>
				<ColumnMapping>
					<ColumnRef xmlns="http://www.pharmml.org/pharmml/0.8/Dataset" columnIdRef="DV"/> 
					<ct:SymbRef blkIdRef="om1" symbIdRef="Y"/>
				</ColumnMapping>
				<DataSet xmlns="http://www.pharmml.org/pharmml/0.8/Dataset">
					<Definition>
						<Column columnId="TIME" columnType="idv" valueType="real" columnNum="1"/>
						<Column columnId="DV" columnType="dv" valueType="real" columnNum="2"/>
					</Definition>
					<Table>
						<!-- SUBJECT 1 -->
						<Row><ct:Real>8</ct:Real><ct:Real>0.47809</ct:Real></Row>
						<Row><ct:Real>10</ct:Real><ct:Real>0.9534</ct:Real></Row> 
						<Row><ct:Real>13</ct:Real><ct:Real>2.1454</ct:Real></Row>
						<Row><ct:Real>15</ct:Real><ct:Real>3.4162</ct:Real></Row> 
						<Row><ct:Real>18</ct:Real><ct:Real>4.3564</ct:Real></Row>
						<Row><ct:Real>22</ct:Real><ct:Real>8.5514</ct:Real></Row> 
						<Row><ct:Real>26</ct:Real><ct:Real>13.304</ct:Real></Row>
					</Table>
				</DataSet>
			</IndividualObservations>
			
			<IndividualObservations oid="OBSoid_arm2">
				<ColumnMapping>
					<ColumnRef xmlns="http://www.pharmml.org/pharmml/0.8/Dataset" columnIdRef="TIME"/> 
					<ct:SymbRef symbIdRef="T"/>
				</ColumnMapping>
				<ColumnMapping>
					<ColumnRef xmlns="http://www.pharmml.org/pharmml/0.8/Dataset" columnIdRef="DV"/> 
					<ct:SymbRef blkIdRef="om1" symbIdRef="Y"/>
				</ColumnMapping>
				<DataSet xmlns="http://www.pharmml.org/pharmml/0.8/Dataset">
					<Definition>
						<Column columnId="TIME" columnType="idv" valueType="real" columnNum="1"/>
						<Column columnId="DV" columnType="dv" valueType="real" columnNum="2"/>
					</Definition>
					<Table>
						<Row><ct:Real>8</ct:Real><ct:Real>0.43308</ct:Real></Row>
						<Row><ct:Real>10</ct:Real><ct:Real>0.47385</ct:Real></Row> 
						<Row><ct:Real>13</ct:Real><ct:Real>0.54535</ct:Real></Row>
						<Row><ct:Real>15</ct:Real><ct:Real>0.51188</ct:Real></Row> 
						<Row><ct:Real>18</ct:Real><ct:Real>0.51897</ct:Real></Row>
						<Row><ct:Real>22</ct:Real><ct:Real>0.64367</ct:Real></Row> 
						<Row><ct:Real>26</ct:Real><ct:Real>2.3846</ct:Real></Row>
						<Row><ct:Real>30</ct:Real><ct:Real>4.4715</ct:Real></Row> 
						<Row><ct:Real>35</ct:Real><ct:Real>10.09</ct:Real></Row>
						<Row><ct:Real>40</ct:Real><ct:Real>14.118</ct:Real></Row> 
					</Table>
				</DataSet>
			</IndividualObservations>
		</Observations>
		
		<DesignSpaces>
			<DesignSpace>
				<InterventionRef oidRef="bolusIV"/>
				<DosingTimes>
					<ct:Assign>
						<ct:Interval>
							<ct:LeftEndpoint>
								<ct:Assign>
									<ct:Real>0</ct:Real>
								</ct:Assign>
							</ct:LeftEndpoint>
							<ct:RightEndpoint>
								<ct:Assign>
									<ct:Real>10</ct:Real>
								</ct:Assign>
							</ct:RightEndpoint>
						</ct:Interval>
					</ct:Assign>
				</DosingTimes>
			</DesignSpace>
		</DesignSpaces>
		
		<Arms>
			<Arm oid="a1">
				<InterventionSequence>
					<InterventionList>
						<InterventionRef oidRef="bolusIV"/>
					</InterventionList>
				</InterventionSequence>
				<ObservationSequence>
					<ObservationList>
						<ObservationRef oidRef="OBSoid_arm1"/>
					</ObservationList>
				</ObservationSequence>
			</Arm>
			<Arm oid="a2">
				<ObservationSequence>
					<ObservationList>
						<ObservationRef oidRef="OBSoid_arm2"/>
					</ObservationList>
				</ObservationSequence>
			</Arm>
		</Arms>
		
	</TrialDesign>
	

	<ModellingSteps xmlns="http://www.pharmml.org/pharmml/0.8/ModellingSteps">
		<EstimationStep oid="estimStep_1">
			
			<ParametersToEstimate>
				<ParameterEstimation>
					<ct:SymbRef blkIdRef="pm" symbIdRef="LAMBDA0_POP"/>
					<InitialEstimate fixed="false">
						<ct:Real>0.3</ct:Real>
					</InitialEstimate>
					<LowerBound>
						<ct:Int>0</ct:Int>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef blkIdRef="pm" symbIdRef="LAMBDA1_POP"/>
					<InitialEstimate fixed="false">
						<ct:Real>0.3</ct:Real>
					</InitialEstimate>
					<LowerBound>
						<ct:Int>0</ct:Int>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef blkIdRef="pm" symbIdRef="K1_POP"/>
					<InitialEstimate fixed="false">
						<ct:Real>0.3</ct:Real>
					</InitialEstimate>
					<LowerBound>
						<ct:Int>0</ct:Int>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef blkIdRef="pm" symbIdRef="K2_POP"/>
					<InitialEstimate fixed="false">
						<ct:Real>0.5</ct:Real>
					</InitialEstimate>
					<LowerBound>
						<ct:Int>0</ct:Int>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef blkIdRef="pm" symbIdRef="W0_POP"/>
					<InitialEstimate fixed="false">
						<ct:Real>0.02</ct:Real>
					</InitialEstimate>
					<LowerBound>
						<ct:Int>0</ct:Int>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef blkIdRef="pm" symbIdRef="CV"/>
					<InitialEstimate fixed="false">
						<ct:Real>0.1</ct:Real>
					</InitialEstimate>
					<LowerBound>
						<ct:Int>0</ct:Int>
					</LowerBound>
				</ParameterEstimation>
				<ParameterEstimation>
					<ct:SymbRef blkIdRef="pm" symbIdRef="SIGMA_RES_W"/>
					<InitialEstimate fixed="true">
						<ct:Int>1</ct:Int>
					</InitialEstimate>
				</ParameterEstimation>
			</ParametersToEstimate>
			<Operation order="1" opType="estPop">
				<Algorithm definition="FOCE"/>
			</Operation>
		</EstimationStep>
		<mstep:StepDependencies>
			<mstep:Step>
				<ct:OidRef oidRef="estimStep_1"/>
			</mstep:Step>
		</mstep:StepDependencies>
	</ModellingSteps>		
</PharmML>
